{% extends "base.html" %}
{% block title %}Institution Dashboard - QGig{% endblock %}

{% block content %}
<div style="display: flex; min-height: calc(100vh - 80px); background: #f9fafb;">
    <!-- Left Sidebar Navigation -->
    <aside style="width: 260px; background: white; border-right: 1px solid #e5e7eb; height: calc(100vh - 80px); overflow-y: auto;">
        <div style="padding: 2rem 1rem;">
            <h2 style="font-size: 1.25rem; font-weight: 700; margin-bottom: 2rem; color: #111827;">
                <i class="fas fa-building"></i> Admin Dashboard
            </h2>
            
            <nav>
                <a href="{{ url_for('web.institution_dashboard') }}" 
                   class="nav-item {% if active_section == 'overview' %}active{% endif %}"
                   style="display: flex; align-items: center; padding: 0.75rem 1rem; margin-bottom: 0.5rem; border-radius: 8px; text-decoration: none; color: #6b7280; transition: all 0.2s;">
                    <i class="fas fa-home" style="width: 20px; margin-right: 12px;"></i>
                    <span>Dashboard</span>
                </a>
                
                <a href="{{ url_for('web.institution_gigs') }}" 
                   class="nav-item {% if active_section == 'gigs' %}active{% endif %}"
                   style="display: flex; align-items: center; padding: 0.75rem 1rem; margin-bottom: 0.5rem; border-radius: 8px; text-decoration: none; color: #6b7280; transition: all 0.2s;">
                    <i class="fas fa-briefcase" style="width: 20px; margin-right: 12px;"></i>
                    <span>My Gigs</span>
                </a>
                
                <a href="{{ url_for('web.institution_notifications') }}" 
                   class="nav-item {% if active_section == 'notifications' %}active{% endif %}"
                   style="display: flex; align-items: center; padding: 0.75rem 1rem; margin-bottom: 0.5rem; border-radius: 8px; text-decoration: none; color: #6b7280; transition: all 0.2s;">
                    <i class="fas fa-bell" style="width: 20px; margin-right: 12px;"></i>
                    <span>Notifications</span>
                    {% if pending_count > 0 %}
                    <span style="margin-left: auto; background: #ef4444; color: white; padding: 2px 8px; border-radius: 12px; font-size: 0.75rem; font-weight: 600;">{{ pending_count }}</span>
                    {% endif %}
                </a>
                
                <a href="{{ url_for('web.institution_analytics') }}" 
                   class="nav-item {% if active_section == 'analytics' %}active{% endif %}"
                   style="display: flex; align-items: center; padding: 0.75rem 1rem; margin-bottom: 0.5rem; border-radius: 8px; text-decoration: none; color: #6b7280; transition: all 0.2s;">
                    <i class="fas fa-chart-line" style="width: 20px; margin-right: 12px;"></i>
                    <span>Analytics</span>
                </a>
                
                <a href="{{ url_for('web.institution_users') }}" 
                   class="nav-item {% if active_section == 'users' %}active{% endif %}"
                   style="display: flex; align-items: center; padding: 0.75rem 1rem; margin-bottom: 0.5rem; border-radius: 8px; text-decoration: none; color: #6b7280; transition: all 0.2s;">
                    <i class="fas fa-users" style="width: 20px; margin-right: 12px;"></i>
                    <span>User Management</span>
                </a>

                <a href="{{ url_for('web.institution_payments') }}" 
                   class="nav-item {% if active_section == 'payments' %}active{% endif %}"
                   style="display: flex; align-items: center; padding: 0.75rem 1rem; margin-bottom: 0.5rem; border-radius: 8px; text-decoration: none; color: #6b7280; transition: all 0.2s;">
                    <i class="fas fa-credit-card" style="width: 20px; margin-right: 12px;"></i>
                    <span>Payments</span>
                </a>
                
                <a href="{{ url_for('web.institution_settings') }}" 
                   class="nav-item {% if active_section == 'settings' %}active{% endif %}"
                   style="display: flex; align-items: center; padding: 0.75rem 1rem; margin-bottom: 0.5rem; border-radius: 8px; text-decoration: none; color: #6b7280; transition: all 0.2s;">
                    <i class="fas fa-cog" style="width: 20px; margin-right: 12px;"></i>
                    <span>Settings</span>
                </a>
            </nav>
        </div>
    </aside>
    
    <!-- Main Content Area -->
    <main style="flex: 1; padding: 2rem; overflow-y: auto;">
        {% block dashboard_content %}{% endblock %}
    </main>
</div>

<style>
.nav-item:hover {
    background: #f3f4f6;
    color: #111827;
}

.nav-item.active {
    background: #dbeafe;
    color: #1e40af;
    font-weight: 600;
}

.nav-item.active i {
    color: #1e40af;
}
</style>
{% endblock %}
